import{u as f,a as g,r as l,j as e,L as j,A as w,b as y,I as b,c as v,B as N,_ as m,s as S}from"./index-DFFnt1R-.js";const L=()=>{const u=f(),x=g(),[i,o]=l.useState(!1),[a,h]=l.useState({usernameOrEmail:"",password:""}),[c,t]=l.useState(!1),d=n=>{const{name:s,value:r}=n.target;h({...a,[s]:r})},p=async n=>{n.preventDefault();try{t(!0);const s=await fetch(`${N}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"}),r=await s.json();if(!s.ok){t(!1),m.error(r.message);return}u(S(r.user)),t(!1),x("/")}catch(s){console.log("Error in login",s),m.error("Login failed, try again")}};return e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between w-full h-screen",children:[e.jsxs("div",{className:"w-full md:w-[50%] h-[15vh] md:h-full bg-gray-100 p-2 flex flex-col justify-between items-center overflow-hidden",children:[e.jsx("div",{className:"flex justify-center md:mb-4 my-4 md:my-0",children:e.jsx(j,{})}),e.jsx("div",{className:"hidden md:flex",children:e.jsx("img",{src:w,alt:"img",className:"w-[440px]"})})]}),e.jsx("div",{className:"w-full md:w-[50%] h-full p-5 bg-white flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col gap-5 p-3 w-full md:w-[500px]",children:[e.jsx("h1",{className:"text-4xl font-medium",children:"Sign In"}),e.jsxs("form",{className:"flex flex-col gap-5",onSubmit:p,children:[e.jsx("div",{children:e.jsxs("p",{className:"text-gray-500",children:["Don't have an account?",e.jsx("span",{className:"cursor-pointer text-green-400 font-semibold ml-1",children:e.jsx(y,{to:"/signup",children:"Sign Up"})})]})}),e.jsx("div",{className:"py-2",children:e.jsx("input",{type:"text",placeholder:"Your username or email address",name:"usernameOrEmail",value:a.usernameOrEmail,onChange:d,required:!0,className:"w-full bg-transparent border-b border-gray-200 p-1 outline-none"})}),e.jsxs("div",{className:"py-2 relative",children:[e.jsx("input",{type:i?"text":"password",placeholder:"Password",name:"password",value:a.password,onChange:d,required:!0,className:"w-full bg-transparent border-b border-gray-200 p-1 outline-none"}),e.jsx("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer",children:i?e.jsx(b,{size:22,onClick:()=>o(!1)}):e.jsx(v,{size:22,onClick:()=>o(!0)})})]}),e.jsxs("div",{className:"py-2 flex justify-between",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5",required:!0}),e.jsx("span",{children:"Remember me"})]}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold cursor-pointer",children:"Forgot password?"})})]}),e.jsx("div",{children:e.jsx("button",{disabled:c,className:"button",type:"submit",children:c?"Loading...":"Sign in"})})]})]})})]})};export{L as default};
